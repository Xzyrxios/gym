<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Träningslogg – 3-dagarsprogram</title>
  <style>
    :root { --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --txt:#e5e7eb; --accent:#22d3ee; }
    *{box-sizing:border-box}
    html{-webkit-text-size-adjust:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:linear-gradient(180deg,#0b1022,#0f172a 30%,#0b1022);color:var(--txt)}
    .wrap{max-width:960px;margin:24px auto;padding:16px}
    .card{background:rgba(255,255,255,.04);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.06);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    h1{font-size:clamp(22px,3.6vw,34px);margin:0 0 12px;letter-spacing:.3px}
    .muted{color:var(--muted)}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .day-btn{flex:1 1 160px;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px 16px;text-align:center;cursor:pointer;user-select:none;background:#0b1224;transition:.15s;min-height:44px}
    .day-btn:hover{transform:translateY(-1px);border-color:var(--accent)}
    .day-btn.active{outline:2px solid var(--accent);background:#0b1a2c}
    .bar{display:flex;gap:10px;align-items:center;justify-content:space-between;margin:14px 0 10px}
    input, button, select, textarea{font:inherit}
    input[type="number"], input[type="date"], input[type="password"], input[type="text"], select{
      background:#0b1224;border:1px solid rgba(255,255,255,.12);border-radius:12px;color:var(--txt);padding:12px 14px;
      font-size:16px; /* iOS: undvik auto-zoom */
      min-height:44px; -webkit-appearance:none; appearance:none;
    }
    /* iOS number spinners */
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button{ -webkit-appearance: none; margin: 0; }
    input[type=number]{ -moz-appearance:textfield; }

    button{background:var(--accent);color:#001018;border:0;border-radius:12px;padding:12px 16px;font-weight:600;cursor:pointer;min-height:44px}
    button.ghost{background:transparent;color:var(--txt);border:1px solid rgba(255,255,255,.18)}
    .exercise{border-top:1px dashed rgba(255,255,255,.12);padding:14px 0}
    .exercise h3{margin:0 0 6px;font-size:18px}
    .note{font-size:13px;color:var(--muted)}
    .sets{display:grid;grid-template-columns:90px 1fr 1fr 120px;gap:8px;align-items:center}
    .sets label{font-size:12px;color:var(--muted)}
    .set-row{display:contents}
    .pill{display:inline-block;border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:6px 10px;font-size:12px;color:var(--muted)}
    .footer{display:flex;gap:10px;justify-content:flex-end;padding:16px 0}
    details{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px 12px}
    summary{cursor:pointer}
    .hint{font-size:12px;color:#9ae6ff}
    .empty{color:var(--muted);font-style:italic}
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.55);padding:12px}
    .modal.open{display:grid}
    .modal .box{background:#0b1224;border:1px solid rgba(255,255,255,.15);border-radius:16px;padding:16px;max-width:560px;width:min(92vw,560px)}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}

    /* ===== Responsivitet ===== */
    @media (max-width:820px){
      .bar{flex-direction:column;align-items:stretch}
      .bar > .row{width:100%;justify-content:space-between}
      .bar button, .bar .ghost{flex:1 1 160px}
    }
    @media (max-width:560px){
      .wrap{padding:12px}
      .row{gap:10px}
      .day-btn{flex:1 1 calc(50% - 10px)}
      .sets{grid-template-columns:60px 1fr 1fr}
      /* Placera borttagningsknapp på egen rad högerställd */
      .sets .set-row > button{grid-column:1 / -1; justify-self:end}
    }
    @media (max-width:400px){
      .day-btn{flex:1 1 100%}
      .sets{grid-template-columns:56px 1fr}
      .sets label:nth-child(3){display:none} /* dölj vikt-etikett när två kolumner */
      .sets .set-row input:nth-of-type(2){grid-column:1 / -1} /* viktfält på egen rad */
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Träningslogg <span class="muted">– 3 dagar</span></h1>
      <p class="muted">Välj dag, logga set/reps/vikt. Allt sparas lokalt i webbläsaren. Du kan även <b>synka till GitHub</b> för backup.</p>

      <div class="row" id="dayButtons" style="margin:14px 0 10px"></div>

      <div class="bar">
        <div class="row" style="align-items:center;gap:8px;flex-wrap:wrap">
          <label for="date" class="muted" style="flex:0 0 auto">Datum</label>
          <input id="date" type="date" style="flex:0 1 auto"/>
          <span id="selectedDayLabel" class="pill">Ingen dag vald</span>
        </div>
        <div class="row" style="flex-wrap:wrap;gap:6px">
          <button id="saveBtn">Spara</button>
          <button id="exportBtn" class="ghost">Exportera</button>
          <button id="syncBtn" class="ghost">Synka</button>
          <button id="pullBtn" class="ghost">Hämta</button>
          <button id="cfgBtn" class="ghost">Inställningar</button>
        </div>
      </div>
    </div>

    <div class="card" id="exercisesPanel">
      <p class="empty">Välj en dag ovan för att se dina övningar.</p>
    </div>

    <div class="card" id="historyPanel">
      <h2 style="margin:6px 0 8px;font-size:18px">Senaste historik</h2>
      <div id="historyBody" class="muted">Inget sparat ännu.</div>
    </div>
  </div>

  <div class="modal" id="cfgModal" aria-hidden="true">
    <div class="box">
      <h2 style="margin:0 0 8px;font-size:18px">GitHub-inställningar</h2>
      <p class="muted">Använd en <b>fine‑grained token</b> med endast <i>Content</i>-rättigheter. Token lagras i localStorage.</p>
      <div class="grid">
        <label>Ägare (user/org)
          <input id="ghOwner" type="text"/>
        </label>
        <label>Repo
          <input id="ghRepo" type="text"/>
        </label>
        <label>Branch
          <input id="ghBranch" type="text" value="main"/>
        </label>
        <label>Sökväg
          <input id="ghPath" type="text" value="data/traningslogg.json"/>
        </label>
        <label style="grid-column:1/-1">Token
          <input id="ghToken" type="password"/>
        </label>
      </div>
      <div class="row" style="justify-content:flex-end;margin-top:12px;gap:8px">
        <button id="cfgSave">Spara</button>
        <button id="cfgClose" class="ghost">Stäng</button>
      </div>
    </div>
  </div>

<script>
// (JS-koden oförändrad från din version – endast layout/CSS är mobil-anpassad)
</script>
</body>
</html>
